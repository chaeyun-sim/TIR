# 7. 크롬 개발자 도구를 활용한 애플리케이션 분석

## 🏷 크롬 개발자 도구란?

```
- 웹 페이지에서 발생하는 이벤트를 확인할 수 있는 개발 도구
- 확장 프로그램은 불필요한 정보를 추가할 수 있어 개인 정보 보호 모드에서 열 것을 추천함
```

<br />

## 🏷 요소 탭

> 웹 페이지를 구성하고 있는 HTML, CSS 등 정보 표시

### 7.2.1 요소 화면

- 현재 웹 페이지를 구성하는 HTML 표시
- 태그 클릭 시 관련 정보를 확인할 수 있음
- 요소 추가, 수정, 삭제

### 7.2.2 요소 정보

- 주요 내용: 스타일, 계산된 스타일 결괏값, 레이아웃 정보, 이베트 리스너, DOM 중단점, 속성, 접근성 정보

<br />

## 🏷 소스 탭
> 웹 애플리케이션을 불러오기 위해 실행 또는 참조된 모든 파일 표시

- 소스 중단점을 생성해 디버깅 수행 가능
- 소스 탭 오른쪽에서 제공하는 정보: 감시, 중단점, 범위, 호출 스택, 전역 리스너, XHR/가져오기, DOM, 이벤트 리스너, CSP 위반 중단점

<br />

## 🏷 네트워크 탭
> 모든 네크워크 관련 작동 기록

- 상단: 여러 탭으로 네트워크 요청 종류 필터링 또는 제한
- 좌측: 페이지를 불러오는 과정에서 발생한 네트워크 요청
- 하단: 페이지를 불러오는 동안 발생한 총 요청 건수와 업로드 리소스의 크기 표시

<br />

## 🏷 메모리 탭
> 현재 웹페이지가 차지하고 있는 메모리 관련 정보 표시

- 애플리케이션에서 발생하는 메모리 누수, 속도 저하, 프리징 형식 등 확인
- 힙 스냅샷: 현재 시점의 메모리 상황을 사진 찍듯이 촬영
- 타임라인의 할당 계측: 시간 흐름에 따라 메모리의 변화 표시
- 할당 샘플링: 메모리 공간을 차지하고 있는 자바스크립트 함수 표시

### 7.5.1 자바스크립트 인스턴스 VM 선택
- 현재 실행 중인 자바스크립트 VM 인스턴스 표시

### 7.5.2 힙 스냅샷
- 현재 페이지의 메모리 상태를 확인해 볼 수 있는 메모리 프로파일 도구

### 7.5.3 타임라인 할당 계측
- 시간의 흐름에 따라 메모리 변화 표시
- 상대적으로 많은 부담 발생
- 특정 변수를 전역 변수로 저장하면 어떤 객체인지 확인할 수 있음

### 7.5.4 할당 샘플링
- 자바스크립트 실행 스택을 함수 단위로 분석
- 프로파일링 시 브라우저에 주는 부담 최소화
- 장시간 디버깅 수행 시 유리

<br />

## 🏷 Next.js 환경 디버깅하기
### 7.6.1 Next.js 프로젝트를 디버그 모드로 실행하기
- 디버그 모드 실행
```
"dev": NODE_OPTIONS='--inspect' next dev
```
- `chrome://inspect`로 이동 후 Open dedicated DevTools for Node 선택, 개발자 도구 화면 열림

### 7.6.2 Next.js 서버에 트래픽 유입시키기

- SSR은 서버를 실행한 뒤 사용자가 서서히 유입되면서 메모리 누수 발생
- 트래픽 테스트를 위해 오픈소스 도구 `ab` 활용
- `ab`: 아파치 재단에서 제공하는 웹서버 성능 검사 도구, HTTP 서버의 성능 벤치마킹
- `ab -k -c 50 -n 10000 "http://127:0:0:1:3000/`