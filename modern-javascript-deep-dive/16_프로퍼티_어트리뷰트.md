# 16. í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸

- 2024.07.16

## ğŸ· ë‚´ë¶€ ìŠ¬ë¡¯ê³¼ ë‚´ë¶€ ë©”ì„œë“œ

```
- ECMAScript ì‚¬ì–‘ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì˜ì‚¬ í”„ë¡œí¼í‹°(pseudo property)ì™€ ì˜ì‚¬ ë©”ì„œë“œ(pseudo method)
- ë³´í†µ ì´ì¤‘ ëŒ€ê´„í˜¸ [[...]]ë¡œ í‘œí˜„
- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì˜ ë‚´ë¶€ ë¡œì§ì´ê³ , ì›ì¹™ì ìœ¼ë¡œ ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼ ë˜ëŠ” í˜¸ì¶œ ë¶ˆê°€
- ëª¨ë“  ê°ì²´ëŠ” [[Property]]ë¥¼ ê°–ê³ , __proto__ë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
```

```jsx
const o = {};
o.[[Prototype]];   // Uncaught SyntaxError: Unexpected token '['
o.__proto__; // Object.prototype
```

> ğŸ’¡ **Prototype**
>
> ì–´ë–¤ ê°ì²´ì˜ ìƒìœ„ ê°ì²´ì˜ ì—­í• ì„ í•˜ëŠ” ê°ì²´ì´ë‹¤. í”„ë¡œí† íƒ€ì… ê°ì²´ì˜ í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ìƒì†ë°›ëŠ” í•˜ìœ„ ê°ì²´ëŠ” ìì‹ ì˜ ê²ƒì¸ ê²ƒì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. (ìƒì†)<br /> í”„ë¡œí¼í‹° ì²´ì¸ì´ë€ í”„ë¡œí† íƒ€ì…ì´ ë‹¨ë°©í–¥ linked list í˜•íƒœë¡œ ì—°ê²°ë˜ì–´ ìˆëŠ” ìƒì† êµ¬ì¡°ë¥¼ ë§í•œë‹¤. 19ì¥ì—ì„œ ê³„ì†..

<br />

## ğŸ· í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ì™€ í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´

```
- í”„ë¡œí¼í‹°ë¥¼ ìƒì„±í•  ë•Œ í”„ë¡œí¼í‹°ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê¸°ë³¸ ê°’ìœ¼ë¡œ ìë™ ì •ì˜
- í”„ë¡œí¼í‹° ìƒíƒœ: í”„ë¡œí¼í‹° ê°’, ê°’ì˜ ê°±ì‹  ì—¬ë¶€, ì—´ê±° ì—¬ë¶€, ì¬ì •ì˜ ì—¬ë¶€
- í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸: ë‚´ë¶€ ìŠ¬ë¡¯ [[Value]], [[Writable]], [[Enumerable]], [[Configurable]]
- í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ëŠ” ì—†ìœ¼ë‚˜ Object.getOwnPropertyDescriptor ë©”ì„œë“œ ì‚¬ìš©ìœ¼ë¡œ ê°„ì ‘ì  ì ‘ê·¼ ê°€ëŠ¥
- .getOwnPropertyDescriptorëŠ” í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° (í”„ë¡œí¼í‹° ì„¤ëª…?) ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
```

```jsx
const person = {
  name: 'Lee',
};

console.log(Object.getOwnPropertyDescriptor(person, 'name'));
// {value: 'Lee', writable true, enumerable: true, configurable: true}
```

<br />

## ğŸ· ë°ì´í„° í”„ë¡œí¼í‹°ì™€ ì ‘ê·¼ì í”„ë¡œí¼í‹°

### 3.1 ë°ì´í„° í”„ë¡œí¼í‹°

> í‚¤ì™€ ê°’ìœ¼ë¡œ êµ¬ì„±ëœ ì¼ë°˜ì ì¸ í”„ë¡œí¼í‹°<br />> Object.getOwnPropertyDescriptor(Object.prototype, '\_\_proto\_\_')

#### [[Value]]

```
- í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°: value
- í”„ë¡œí¼í‹° í‚¤ë¥¼ í†µí•´ í”„ë¡œí¼í‹° ê°’ì— ì ‘ê·¼í•˜ë©´ ë°˜í™˜ë˜ëŠ” ê°’
- í”„ë¡œí¼í‹° ê°’ì„ ë³€ê²½í•˜ë©´ [[Value]]ì— ê°’ì„ ì¬í• ë‹¹í•œë‹¤.
```

#### [[Writable]]

```
- í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°: writable
- í”„ë¡œí¼í‹° ê°’ì˜ ë³€ê²½ ê°€ëŠ¥ ì—¬ë¶€ í‘œì‹œ (boolean)
- falseì¸ ê²½ìš° [[Value]] ë³€ê²½ ë¶ˆê°€, ì½ê¸° ì „ìš© í”„ë¡œí¼í‹°ë¡œ ë³€í™˜
```

#### [[Enumerable]]

```
- í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°: enumerable
- í”„ë¡œí¼í‹° ì—´ê±° ê°€ëŠ¥ ì—¬ë¶€ í‘œì‹œ (boolean)
- falseì¸ ê²½ìš° ì—´ê±° ë¶ˆê°€ (for..in ë˜ëŠ” Object.keys ë“±)
```

#### [[Configurable]]

```
- í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°: configurable
- í”„ë¡œí¼í‹° ì¬ì •ì˜ ê¸°ëŠ¥ ì—¬ë¶€ í‘œì‹œ (boolean)
- falseì¸ ê²½ìš° í•´ë‹¹ í”„ë¡œí¼í‹° ì‚­ì œ, í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ê°’ ë³€ê²½ ê¸ˆì§€
```

### 3.2 ì ‘ê·¼ì í”„ë¡œí¼í‹°

> ë‹¤ë¥¸ ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì½ê±°ë‚˜ ì €ì¥í•  ë•Œ í˜¸ì¶œí•˜ëŠ” ì ‘ê·¼ì í•¨ìˆ˜ë¡œ êµ¬ì„±ëœ í”„ë¡œí¼í‹°<br />> Object.getOwnPropertyDescriptor(function() {}, 'prototype')

#### [[Get]]

```
- í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°: get
- ì ‘ê·¼ì í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì½ì„ ë•Œ í˜¸ì¶œ
- getter í•¨ìˆ˜ í˜¸ì¶œ í›„ í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ ê²°ê³¼ ë°˜í™˜
```

#### [[Set]]

```
- í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°: set
- ì ‘ê·¼ì í•¨ìˆ˜ë¥¼ í†µí•´ ë°ì´í„° í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì €ì¥í•  ë•Œ í˜¸ì¶œ
- setter í•¨ìˆ˜ í˜¸ì¶œ í›„ í”„ë¡œí¼í‹° ê°’ìœ¼ë¡œ ê²°ê³¼ ì €ì¥
```

#### [[Enumerable]]

```
- í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°: enumerable
- ë°ì´í„° í”„ë¡œí¼í‹°ì˜ [[Enumerable]]ê³¼ ë™ì¼
```

#### [[Configurable]]

```
- í”„ë¡œí¼í‹° ë””ìŠ¤í¬ë¦½í„° ê°ì²´ì˜ í”„ë¡œí¼í‹°: configurable
- ë°ì´í„° í”„ë¡œí¼í‹°ì˜ [[Configurable]]ê³¼ ë™ì¼
```

- ì˜ˆì‹œ

```jsx
const person = {
  firstName: 'Harry',
  lastName: 'Potter',

  // getter í•¨ìˆ˜
  get fullName() {
    return `${this.firstName} ${this.lastName}`;
  },

  // setter í•¨ìˆ˜
  set fullName(name) {
    [this.firstName, this.lastName] = name.split(' ');
  },
};

// setter í•¨ìˆ˜ í˜¸ì¶œ
person.fullName = 'Tom Riddle';
console.log(person);
// {firstName: 'Tom', lastname: 'Riddle'}

// getter í•¨ìˆ˜ í˜¸ì¶œ
console.log(person.fullName); // Tom Riddle
```

<br />

## ğŸ· í”„ë¡œí¼í‹° ì •ì˜

```
- ìƒˆë¡œìš´ í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•˜ë©´ì„œ property attribleë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ê±°ë‚˜, ê¸°ì¡´ í”„ë¡œí¼í‹°ì˜ property attributeë¥¼ ì¬ì •ì˜í•˜ëŠ” ê²ƒ
- í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì •ì˜ => Object.defineProperty ë©”ì„œë“œ ì‚¬ìš©
- [[Value]], [[Get]], [[Set]]ì´ ìƒëµë˜ì—ˆì„ ë•Œ undefinedë¡œ, [[Writable]], [[Enumerable]], [[Configurable]]ì´ ìƒëµë˜ì—ˆì„ ë•ŒëŠ” falseë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ í•œë‹¤.
```

- ì˜ˆì‹œ

```jsx
const person = {};
Object.defineProperties(person, {
	firstName: {
		value: 'Harry',
		writable: true,
		enumerable: true,
		configurable: true,
	},
	lastName: {
		value: 'Potter',
		writable: true,
		enumerable: true,
		configurable: true,
	},
	fullName: {
		get() {
			return `${this.firstName} ${this.lastName}`
		},
		set(name) {
			[this.firstName, this.lastName] = name.split(' )
		},
		enumerable: true,
		configurable: true
	}
})
```

<br />

## ğŸ· ê°ì²´ ë³€ê²½ ë°©ì§€

```
- ê°ì²´ëŠ” ì¬í• ë‹¹ ì—†ì´ ë³€ê²½í•  ìˆ˜ ìˆë‹¤. ì¦‰, í”„ë¡œí¼í‹° ì¶”ê°€/ì‚­ì œ/ê°±ì‹ , í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¬ì •ì´ ëª¨ë‘ ê°€ëŠ¥í•˜ë‹¤.
```

- Object.preventExtensions: ì‚­ì œ, ê°’ ì½ê¸°, ê°’ ì“°ê¸°, í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¬ì •ì˜ ê°€ëŠ¥
- Object.seal: ê°’ ì½ê¸°, ê°’ ì“°ê¸° ê°€ëŠ¥
- Object.freeze: ê°’ ì½ê¸° ê°€ëŠ¥

### 5.1 ê°ì²´ í™•ì¥ ê¸ˆì§€

> Object.preventExtensions(obj) / í”„ë¡œí¼í‹° ì¶”ê°€ ê¸ˆì§€

```
- í”„ë¡œí¼í‹°ëŠ” í”„ë¡œí¼í‹° ë™ì  ì¶”ê°€, Object.definePropertyë¡œ ê°€ëŠ¥ (ê·¸ëŸ¬ë‹ˆ ê°ì²´ í™•ì¥ ê¸ˆì§€ëŠ” ë¶ˆê°€ëŠ¥)
- Object.isExtensible: í™•ì¥ ê°€ëŠ¥ ê°ì²´ ì—¬ë¶€ í™•ì¸
```

### 5.2 ê°ì²´ ë°€ë´‰

> Object.seal(obj) / ì½ê¸°ì™€ ì“°ê¸°ë§Œ ê°€ëŠ¥

```
- ê°ì²´ ë°€ë´‰: í”„ë¡œí¼í‹° ì¶”ê°€ ë° ì‚­ì œ ë° í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¬ì •ì˜ ê¸ˆì§€
- Object.isSealed: ë°€ë´‰ëœ ê°ì²´ ì—¬ë¶€ í™•ì¸
```

### 5.3 ê°ì²´ ë™ê²°

> Object.freeze(obj) / ì½ê¸°ë§Œ ê°€ëŠ¥

```
- ê°ì²´ ë™ê²°: í”„ë¡œí¼í‹° ì¶”ê°€ ë° ì‚­ì œ, í”„ë¡œí¼í‹° ì–´íŠ¸ë¦¬ë·°íŠ¸ ì¬ì •ì˜, í”„ë¡œí¼í‹° ê°’ ê°±ì‹  ëª¨ë‘ ê¸ˆì§€
- Object.isFrozen: ë™ê²°ëœ ê°ì²´ ì—¬ë¶€ í™•ì¸
```

### ë¶ˆë³€ ê°ì²´

```
- Object.freeze ë©”ì„œë“œë¡œ ê°ì²´ëŠ” ë™ê²°í•˜ì—¬ë„ ì¤‘ì²© ê°ì²´ê¹Œì§€ ë™ê²° ë¶ˆê°€
- ê°ì²´ë¥¼ ê°’ìœ¼ë¡œ ê°–ëŠ” ëª¨ë“  í”„ë¡œí¼í‹°ì— ëŒ€í•´ ì¬ê·€ì ìœ¼ë¡œ Object.freeze ë©”ì„œë“œ í˜¸ì¶œ
```

- ì˜ˆì‹œ

```jsx
function deepFreeze(target) {
  if (target && typeof target === 'object' && !Object.isFrozen(target)) {
    Object.freeze(target);
    Object.keys(target).forEach(key => deepFreeze(target[key]));
  }
  return target;
}

const person = {
  name: 'Lee',
  address: { city: 'Seoul' },
};

deepFreeze(person);
console.log(Object.isFrozen(person)); // true
console.log(Object.isFrozen(person.address)); // true

person.address.city = 'Busan';
console.log(person.address); // {city: "Seoul"}
```
